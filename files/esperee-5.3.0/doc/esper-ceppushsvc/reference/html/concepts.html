<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 2. Key Concepts</title><link rel="stylesheet" href="css/espertech.css" type="text/css"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL-NS Stylesheets V1.74.0"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="home" href="index.html" title="CEP Push Services"/><link rel="up" href="index.html" title="CEP Push Services"/><link rel="prev" href="overview.html" title="Chapter 1. Overview"/><link rel="next" href="gettingstarted.html" title="Chapter 3. Getting Started"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.espertech.com" class="site_href"><strong>www.espertech.com</strong></a><a href="http://www.espertech.com/esper/documentation.php" class="doc_href"><strong>Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="overview.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="gettingstarted.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts"/>Chapter 2. Key Concepts</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="concepts.html#concepts-bus">2.1. REST Web Services and Data Bus</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-qos">2.2. Quality of Service</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-subjectspace">2.3. Subject Space</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-logicalresource">2.4. Logical Resource</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-statementset">2.5. Statement Set</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-channel">2.6. Channel</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-session">2.7. Session</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-endpoint">2.8. Endpoint</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-provider">2.9. Provider</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-subjectspaceexpr">2.10. Subject Space Expressions</a></span></dt><dt><span class="sect1"><a href="concepts.html#concepts-statementsetfilterexpr">2.11. Statement Set Filter Expressions</a></span></dt></dl></div><p>
		Before reading this chapter, it is important to understand key concepts of CEP and the section will use Esper CEP engine terminology.
	</p><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-bus"/>2.1. REST Web Services and Data Bus</h2></div></div></div><p>
			Esper Push Services provides a REST web services and manages a dynamic data bus. REST web services manage subscriptions and sessions. 
			The dynamic data bus is zero or more channels for transmission of data at same or different quality-of-service level and transmission message format.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-qos"/>2.2. Quality of Service</h2></div></div></div><p>
			In Esper Push Services, the term Quality of Service refers to the policy by which available data is formatted and published to consumers. It defines the event batching that should take place, if any, to efficiently utilize the available transport yet balance latency requirements.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-subjectspace"/>2.3. Subject Space</h2></div></div></div><p>
			We use this term to mean any publishable data available through the CEP engine. It means the sets of Esper EPL statements, CEP engine metrics or other metrics, named window, variable or more generally anything that can be turned into a one-time, infrequent or frequent or continuous stream including historical and reference data available through relational databases, for example.
		</p><p>
			A single subject space is identified by a subject space name. Its definition is an ordered list of subject space expressions including and excluding logical resources from that subject space. A subject space that includes all logical resources simply has no include or exclude expressions.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-logicalresource"/>2.4. Logical Resource</h2></div></div></div><p>
			Within the subject space, a logical resource identifies the specific publishable data available through the CEP engine.
		</p><p>
			One example of a logical resource is a single EPL statement that is uniquely identified by an Esper engine URI and a statement name.
		</p><p>
			A second example of a logical resource is dynamic set of EPL statements (statement set), for example all started statements within an Esper engine as identified by an Esper engine URI.
		</p><p>
			A third example of a logical resource is engine metrics for an Esper engine as identified by an Esper engine URI.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-statementset"/>2.5. Statement Set</h2></div></div></div><p>
			A statement set is a set of statements, for example all statements, or for example all statements that are tagged by a @Tag annotation with certain value(s).
		</p><p>
			Push Services manages statement sets dynamically: When a new statement comes online (gets compiled and started) that matches a statement set subscription then that new statement automatically becomes part of the resources for publishing.
		</p><p>
			In order to define which statements to include into a statement set, a subscription may provide a statement set filter expression. If you provide no filter expression with a statement set subscription request then Push Services includes all statements in the subscription. If you provide a filter expression, Push Services only includes those statements that match the filter expression provided.
		</p><p>
			The syntax for statement set filter expressions is outlined below.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-channel"/>2.6. Channel</h2></div></div></div><p>
			Channel is the term used to tie together the subject space (any publishable data) with quality of service requirements and a binding to JMS destination(s).
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-session"/>2.7. Session</h2></div></div></div><p>
			Clients (or consumers) that subscribe to logical resources must first establish a session. They are also responsible for keeping the session alive by sending heartbeats, and for indicating
			the end of a session when the subscription is no longer needed.
		</p><p>
			Clients to services are unidentified. That means clients that use services to manage CEP engine instances (e.g. that create statements, view variable values etc.) and that do not subscribe to logical resources to receive data are not specifically tracked.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-endpoint"/>2.8. Endpoint</h2></div></div></div><p>
			An endpoint is a running Push Services.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-provider"/>2.9. Provider</h2></div></div></div><p>
			A provider is a Java Message Service (JMS) provider (aka. broker). 
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-subjectspaceexpr"/>2.10. Subject Space Expressions</h2></div></div></div><p>
			Subject space expressions serve to define a subject space by including or excluding logical resources declaratively.
		</p><p>
			The table below outlines the properties available in expressions.
		</p><div class="table"><a id="d0e153"/><p class="title"><b>Table 2.1. Properties in Subject Space Expressions</b></p><div class="table-contents"><table summary="Properties in Subject Space Expressions" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>engineURI</td><td>The Esper engine URI.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">engineURI in ('uriOne', 'uriTwo')</pre></td></tr><tr><td>statement</td><td>Populated if the logical resource is a single statement.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statement is not null</pre></td></tr><tr><td>statement.statementName</td><td>The statement name.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statement.statementName = 'MyStmt'</pre></td></tr><tr><td>statement.engineURI</td><td>The Esper engine URI for a statement.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statement.engineURI = 'uriOne'
and statement.statementName = 'MyStmt'</pre></td></tr><tr><td>statement.iterate</td><td>Whether to iterate the statement.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statement.iterate is not null</pre></td></tr><tr><td>statement.iterate.iterateNow</td><td>Whether to iterate the statement at start of subscription.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statement.iterate.iterateNow = true</pre></td></tr><tr><td>statement.iterate.iteratePattern</td><td>Pattern expression to use for iteration.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statement.iterate.iteratePattern
 = 'every timer:interval(5)'</pre></td></tr><tr><td>statementSet</td><td>Populated if the logical resource is a dynamic set of statements.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statementSet is not null</pre></td></tr><tr><td>statementSet.engineURI</td><td>The Esper engine URI for a dynamic set of statements.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statementSet.engineURI = 'uriOne'</pre></td></tr><tr><td>statementSet.filterExpression</td><td>The filter expression identifying a dynamic set of statements.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">statementSet.filterExpression
 like '%tag='Shop'%'</pre></td></tr><tr><td>engine</td><td>Populated if the logical resource is an engine metric.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">engine is not null</pre></td></tr><tr><td>engine.engineURI</td><td>The Esper engine URI for engine metrics.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">engine.engineURI = 'uriOne'</pre></td></tr><tr><td>engine.type</td><td>The type of engine metric.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">engine.engineURI = 'uriOne'</pre></td></tr></tbody></table></div></div><br class="table-break"/><p>
			To understand subject space expressions, read the expression as follows: "For all logical resources where <span class="emphasis"><em>expression</em></span>".
		</p><p>
			For example, the expression <code class="literal">"statement.statementName = 'MyStmt'"</code> means a single statement that has statement name <code class="literal">MyStmt</code>.
		</p><p>
			As a second example, the expression <code class="literal">"statement.statementName in ('MyStmtOne', 'MyStmtTwo')"</code> means statements that have statement name of either <code class="literal">MyStmtOne</code> or <code class="literal">MyStmtTwo</code>.
		</p><p>
			As a third example, the expression <code class="literal">"statementSet is not null and filterExpression is null"</code> means all statements (a dynamic statement set) for a given engine instance.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="concepts-statementsetfilterexpr"/>2.11. Statement Set Filter Expressions</h2></div></div></div><p>
			A statement set filter expression is an optional parameter to a subscription for a statement set. A statement set subscription without a filter expression includes all statements. 
		</p><p>
			The table below outlines the properties available in expressions:
		</p><div class="table"><a id="d0e309"/><p class="title"><b>Table 2.2. Properties in Statement Set Filter Expressions</b></p><div class="table-contents"><table summary="Properties in Statement Set Filter Expressions" border="1"><colgroup><col/><col/><col/></colgroup><thead><tr><th>Property Name</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>name</td><td>The statement name.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">name in ('MyStmtOne', 'MyStmtTwo')</pre></td></tr><tr><td>epl</td><td>EPL expression of statement.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">epl like 'select * from MyEvent'</pre></td></tr><tr><td>state</td><td>A statement state: STARTED, STOPPED or DESTROYED.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">state = 'STOPPED'</pre></td></tr><tr><td>userObject</td><td>The user object (as a string value) attached to a statement.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">userObject = 'myUserObject'</pre></td></tr><tr><td>description</td><td>Statement description.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">description like '%to be removed%'</pre></td></tr><tr><td>hint</td><td>Hint values as a comma-separated list.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">hint is null</pre></td></tr><tr><td>priority</td><td>Statement priority.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">priority = 1</pre></td></tr><tr><td>drop</td><td>True if @Drop specified.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">drop = true</pre></td></tr><tr><td>tag</td><td>A map property for all tags (see @Tag, string key-value pairs) attached to a statement.</td><td><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">tag('myTag')='myValue'</pre></td></tr></tbody></table></div></div><br class="table-break"/><p>
			To understand statement set expressions, read the expression as follows: "For all statements where <span class="emphasis"><em>expression</em></span>".
		</p><p>
			For example, the expression <code class="literal">"name = 'MyStmt'"</code> means a statement that has statement name <code class="literal">MyStmt</code>.
		</p><p>
			As a second example, the expression <code class="literal">"name in ('MyStmtOne', 'MyStmtTwo')"</code> means statements that are named either <code class="literal">MyStmtOne</code> or <code class="literal">MyStmtTwo</code>.
		</p><p>
			As a third example, the expression <code class="literal">"tag('myTag') is not null or tag('mySecondTag') = 'id'"</code> means all statements that are tagged with <code class="literal">myTag</code> with any value or that are tagged with <code class="literal">mySecondTag</code> and value <code class="literal">id</code>.
		</p></div></div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="overview.html"><strong>Prev</strong>Chapter 1. Overview</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="gettingstarted.html"><strong>Next</strong>Chapter 3. Getting Started</a></li></ul></body></html>
