<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">ChapterÂ 10.Â Examples</title><link rel="stylesheet" href="css/espertech.css" type="text/css"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL-NS Stylesheets V1.74.0"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/><link rel="home" href="index.html" title="Esper Enterprise Edition - Server"/><link rel="up" href="index.html" title="Esper Enterprise Edition - Server"/><link rel="prev" href="restservices.html" title="ChapterÂ 9.Â REST Services"/></head><body><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.espertech.com" class="site_href"><strong>www.espertech.com</strong></a><a href="http://www.espertech.com/esper/documentation.php" class="doc_href"><strong>Documentation</strong></a></p><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="restservices.html"><strong>Prev</strong></a></li><li class="next"/></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples"/>ChapterÂ 10.Â Examples</h2></div></div></div><div class="toc"><dl><dt><span class="sect1"><a href="examples.html#examples-dashboard">10.1. EsperHQ Dashboard Examples</a></span></dt><dd><dl><dt><span class="sect2"><a href="examples.html#examples-dashboard-pagebuilderexample">10.1.1. Example Dashboard Page Generated by Dashboard Page Builder GUI</a></span></dt><dt><span class="sect2"><a href="examples.html#examples-dashboard-iframefaceless">10.1.2. Example Dashboard Page Using HTML IFrames and Faceless Launcher</a></span></dt></dl></dd><dt><span class="sect1"><a href="examples.html#examples-geo">10.2. Geo Example</a></span></dt><dt><span class="sect1"><a href="examples.html#examples-onlineshop">10.3. Online Shop Example</a></span></dt><dt><span class="sect1"><a href="examples.html#examples-optiontrade">10.4. Option Trade Example</a></span></dt><dt><span class="sect1"><a href="examples.html#examples-esper">10.5. Installing Esper Distribution Examples</a></span></dt><dt><span class="sect1"><a href="examples.html#examples-enginejar">10.6. Hot Deploy Engine-Jar Example</a></span></dt></dl></div><p>
		Esper Enterprise Edition comes with additional examples. The source for the examples can be found in the <code class="literal">examples/examples-server</code> folder of the distribution and the jar files are in the <code class="literal">lib</code> folder.
	</p><p>
	  All Enterprise Edition samples are packaged for hot deployment and un-deployment (runtime deployment) as in the format of web application archive (WAR) and also as regular jar files.
	</p><p>
		The packaged example CEP applications are found in the <code class="literal">hotdeploy</code> folder of the distribution. Remove an example WAR file from the folder to un-deploy or copy additional WAR files into the folder to deploy.
	</p><p>
		Each example is also packaged as a JAR file so it can also be listed in an Esper configuration file and therefore started automatically when the Esper engine instances starts. List the examples as Esper <code class="literal">plugin-loader</code> configurations in the default configuration file <code class="literal">esper-default.xml</code> that ships with the distribution. Each example implements the Esper <code class="literal">PluginLoader</code> interface but can also be started via its public API. Use the following configuration to start each example as plug-in:
	</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">&lt;plugin-loader name="ExampleForGeoEvents"
      class-name="com.espertech.esper.server.example.geoapp.GeoExampleSimulatorPlugin"&gt;
  &lt;init-arg name="engineURI" value="default" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleForOptionTrading" 
      class-name="com.espertech.esper.server.example.optionstrade.OptionTradingExampleSimulatorPlugin"&gt;
  &lt;init-arg name="engineURI" value="default" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleForOnlineShop" 
      class-name="com.espertech.esper.server.example.onlineshop.OnlineShopExampleSimulatorPlugin"&gt;
  &lt;init-arg name="engineURI" value="default" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleGeneric" 
      class-name="com.espertech.esper.server.example.generic.GenericSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="default" /&gt;
&lt;/plugin-loader&gt;</pre><p>
		Additionally, you may deploy each Esper distribution example to Esper Enterprise Edition as outlined below.
	</p><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples-dashboard"/>10.1.Â EsperHQ Dashboard Examples</h2></div></div></div><p>
			The dashboard examples display data generated by the online shop example which is outlined below. 
		</p><p>
			There are two dashboard examples: One example is an application page that is generated by the Dashboard Page Builder that is part of EsperHQ client GUI. 
			The second example demonstrates launching eventlets scattered over an HTML page and uses HTML IFrames.
		</p><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="examples-dashboard-pagebuilderexample"/>10.1.1.Â Example Dashboard Page Generated by Dashboard Page Builder GUI</h3></div></div></div><p>
			The file name for this example is <code class="literal">Example Dashboard JQuery Eventlet for Onlineshop.html</code> in the "examples" folder in the GUI itself, or in the <code class="literal">data/hqsvc/examples</code> folder
			of the installation root.
			</p><p>
				This dashboard example demonstrates the output of the Dashboard Page Builder in EsperHQ client. 
				The Dashboard Page Builder generates a complete HTML page including JavaScript utilizing the eventlet jQuery extension.
			</p><p>
				Please see the EsperHQ client documentation for more information on the eventlet jQuery extension. 
			</p></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="examples-dashboard-iframefaceless"/>10.1.2.Â Example Dashboard Page Using HTML IFrames and Faceless Launcher</h3></div></div></div><p>
				The HTML for this example is file <code class="literal">Example Dashboard With HTML IFrames And Launcher For Onlineshop.html</code> in the "examples" folder in the GUI itself, or in the <code class="literal">data/hqsvc/examples</code> folder of the installation root.
			</p><p>
				This example demonstrates launching eventlets as part of HTML content using the faceless launcher URL, which can be useful for portal environments or content management systems. 
			</p><p>
				Please see the EsperHQ client documentation for more information on the eventlet faceless launcher. 
			</p></div></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples-geo"/>10.2.Â Geo Example</h2></div></div></div><p>
			The Geo example is a simulator that analyzes movement of persons geographically and detects presence and vicinity.
		</p><p>
			The simulator sends person location events that have a person id and the current location in latitude and longitude of the person. The Geo example statements detect
			when persons come near to each other and stay near to each other for a given time interval.
		</p><p>
			The sources for the Geo example are in the <code class="literal">examples-server/geo</code> folder, the class is <code class="literal">com.espertech.esper.server.example.geoapp.GeoExampleSimulatorPlugin</code> in the jar file by name <code class="literal">esper-example-geo.jar</code>.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples-onlineshop"/>10.3.Â Online Shop Example</h2></div></div></div><p>
			The online shop example is an example out of the domain of customer experience management. It analyzes events generated by a web site when web site visitors view items for sale on the site. 
		</p><p>
			The simulator generates user browse events with user id, product information viewed by the user, page-enter and leave time and stock quantities and price displayed. It creates statements to obtain key statistics.
		</p><p>
			The sources for the online shop example are in the <code class="literal">examples-server/onlineshop</code> folder, the class is <code class="literal">com.espertech.esper.server.example.onlineshop.OnlineShopExampleSimulatorPlugin</code> in the jar file by name <code class="literal">esper-example-onlineshop.jar</code>.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples-optiontrade"/>10.4.Â Option Trade Example</h2></div></div></div><p>
			The option trade example correlates a market data feed that contains bid and offer prices for instruments with order execution received from an exchange.
		</p><p>
			The simulator generates market price events and exchange execution events. It creates statements to compute a position and valuation.
		</p><p>
			The sources for the option trade example are in the <code class="literal">examples-server/optiontrade</code> folder, the class is <code class="literal">com.espertech.esper.server.example.optiontrade.OptionTradingExampleSimulatorPlugin</code> in the jar file by name <code class="literal">esper-example-optiontrade.jar</code>.
		</p></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples-esper"/>10.5.Â Installing Esper Distribution Examples</h2></div></div></div><p>
			First, copy the example jar file <code class="literal">esper-example-</code><span class="emphasis"><em>name</em></span>-<span class="emphasis"><em>version</em></span> to the <code class="literal">lib</code> directory of the distribution.
		</p><p>
			Second, copy the <code class="literal">etc</code> directory of the Esper example to the <code class="literal">lib</code> directory of the distribution.
		</p><p>
			For Windows environments, edit the <code class="literal">setclasspath.bat</code> in the <code class="literal">bin</code> directory of the distribution and add the following lines to the location of classpath setup:
		</p><pre class="synopsis">set CLASSPATH=%CLASSPATH%;%LIB%\esper-<span class="emphasis"><em>name</em></span>-<span class="emphasis"><em>version</em></span>.jar
set CLASSPATH=%CLASSPATH%;%LIB%\etc</pre><p>
			For Linux environments, edit the <code class="literal">setclasspath.sh</code> in the <code class="literal">bin</code> directory of the distribution and add the following lines to the location of classpath setup:
		</p><pre class="synopsis">CLASSPATH=$CLASSPATH:$LIB/esper-example-<span class="emphasis"><em>name</em></span>-<span class="emphasis"><em>version</em></span>.jar
CLASSPATH=$CLASSPATH:$LIB/etc</pre><p>
			Finally, edit the default engine configuration file <code class="literal">esper-default.xml</code> in the <code class="literal">conf</code> folder of the distribution to start the example
			as part of the configuration.
		</p><p>
			For example:
		</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">&lt;plugin-loader name="Example" class-name="com.espertech.esper.example.autoid.AutoIdSamplePlugin"&gt;
	&lt;init-arg name="engineURI" value="autoid" /&gt;
&lt;/plugin-loader&gt;</pre><p>
			When deploying multiple examples, we would recommend using a different engine URI for each example to avoid conflicting configurations
			between the examples.
		</p><p>
			Esper distribution examples send events during startup as well as include a simulator that continuously sends events. Some examples such as the named window fire-and-forget queries don't have a continuous event simulator therefore may not produce an event stream to see in the web client, however you can see the statements or named window in the web client.
		</p><p> 
			The complete list of examples is as follows:
		</p><pre class="synopsis">esper-example-autoid-<span class="emphasis"><em>version</em></span>.jar
esper-example-marketdatafeed-<span class="emphasis"><em>version</em></span>.jar
esper-example-matchmaker-<span class="emphasis"><em>version</em></span>.jar
esper-example-namedwinquery-<span class="emphasis"><em>version</em></span>.jar
esper-example-ohlcpluginview-<span class="emphasis"><em>version</em></span>.jar
esper-example-qossla-<span class="emphasis"><em>version</em></span>.jar
esper-example-rfidassetzone-<span class="emphasis"><em>version</em></span>.jar
esper-example-stockticker-<span class="emphasis"><em>version</em></span>.jar
esper-example-transaction-<span class="emphasis"><em>version</em></span>.jar</pre><p> 
			The complete list of plug-in configurations is as follows:
		</p><pre xmlns="" xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="">&lt;plugin-loader name="ExampleAutoId" class-name="com.espertech.esper.example.autoid.AutoIdSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="autoid" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleMarketDataFeed" class-name="com.espertech.esper.example.marketdatafeed.MarketDataFeedSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="marketdatafeed" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleMatchMaker" class-name="com.espertech.esper.example.matchmaker.MatchMakerSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="matchmaker" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleNamedWindowQuery" class-name="com.espertech.esper.example.namedwinquery.NamedWindowQuerySamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="namedwinquery" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleOHLC" class-name="com.espertech.esper.example.ohlc.OHLCSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="ohlcsample" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleQualityOfService" class-name="com.espertech.esper.example.qos_sla.QualityOfServiceSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="qos_sla" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleRFIDAssetZone" class-name="com.espertech.esper.example.rfidassetzone.LRMovingSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="rfidassetzone" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleStockTicker" class-name="com.espertech.esper.example.stockticker.StockTickerSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="stockticker" /&gt;
&lt;/plugin-loader&gt;
&lt;plugin-loader name="ExampleTransaction" class-name="com.espertech.esper.example.transaction.TransactionSamplePlugin"&gt;
  &lt;init-arg name="engineURI" value="transactionsample" /&gt;
&lt;/plugin-loader&gt;</pre></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="examples-enginejar"/>10.6.Â Hot Deploy Engine-Jar Example</h2></div></div></div><p>
			The distribution provides the <code class="literal">EngineJar</code> example to demonstrate how to build and hot deploy a CEP engine jar file. Please see <a class="xref" href="hotdeploy.html#hotdeploy-jar" title="5.3.Â CEP Engine Jar Hot Deployment">SectionÂ 5.3, â€œCEP Engine Jar Hot Deploymentâ€?</a> for more information.
		</p><p>
			The <code class="literal">examples/examples-server/enginejar</code> directory contains two sub-projects. The <code class="literal">enginejar</code> sub-project builds a JAR file <code class="literal">example-enginejar-</code><span class="emphasis"><em>version</em></span><code class="literal">-assembly.jar</code> that you may 
			copy to the hot deploy directory. The second sub-project <code class="literal">embeddedlib</code> builds a library JAR file that is included in the assembly for demonstrating annotations and classpath inclusion of jar files.
		</p></div></div><ul xmlns:d="http://docbook.org/ns/docbook" class="docnav"><li class="previous"><a accesskey="p" href="restservices.html"><strong>Prev</strong>ChapterÂ 9.Â REST Services</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li></ul></body></html>
